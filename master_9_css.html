<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <title>reveal-md</title>
    <link rel="stylesheet" href="./css/reveal.css" />
    <link rel="stylesheet" href="./css/theme/black.css" id="theme" />
    <link rel="stylesheet" href="./css/highlight/zenburn.css" />
    <link rel="stylesheet" href="./css/print/paper.css" type="text/css" media="print" />
    <link rel="stylesheet" href="./_assets/assets/styles.css" />

  </head>
  <body>
    <div class="reveal">
      <div class="slides"><section  data-markdown><script type="text/template">## Scaling CSS
#### (MMT-M2018)
</script></section><section ><section data-markdown><script type="text/template"># Problems with CSS

- Global Namespace
- Dead Code elimination
- Sharing Constants
- Non-deterministic Resolution
</script></section><section data-markdown><script type="text/template"># Dead Code elimination
- Remove code which does not affect a programs result
- With SPAs CSS dead code elimination becomes tough
    - eg. button--disabled only used conditionally
    - compiler would need to check all possible app states
- CSS code is left
</script></section><section data-markdown><script type="text/template"># Sharing constants
- Constants couldn't be shared
    - SASS/Less helped with that
    - now we have CSS variables
- IE11 can't handle CSS variables
</script></section><section data-markdown><script type="text/template"># Theming during runtime
- Dynamically change the appearance of the app
- eg. twitters profile color
</script></section><section data-markdown><script type="text/template"># Non-deterministic resolution
- Order of selectors decides what is rendered
- Hard to tell what overrules what
- in SPAs CSS might be loaded dynamically
- Race condition might occur
</script></section><section data-markdown><script type="text/template"># FOUC
- Flash of unstyled content
- Web page shortly appears without styles
- https://www.youtube.com/watch?v=O_jsUI5JD8c
</script></section></section><section ><section data-markdown><script type="text/template"># Global
- Available to the whole site
- What if external scripts add css?
    - eg. FB share buttons?
- eg. Bootstrap adds 600 globals

```css
.button {
    background: blue;
}
.primary-button {
    background: green;
}
```
</script></section><section data-markdown><script type="text/template"># Global with naming convention
- BEM -> Block element modifier
- Block:
    - Standalone entity that is meaningful on its own
    - eg. Button/TextInput/...
- Element:
    - Part of a block
    - eg. label of input, icon in input,...
- Modifiers:
    - Flagging blocks or elements
    - Change the appearance of an item
    - eg. primary/disabled/...
</script></section><section data-markdown><script type="text/template"># Global CSS
| Question?                                  | Possible  |
|--------------------------------------------|-----------|
| No naming clashes possible?                | no        |
| Selector minification?                     | no        |
| Deterministic-Resolution?                  | no        |
| Theming during runtime?                    | yes       |
| Debugging with dev-tools?                  | yes       |
| Dead code elimination?                     | no        |
| No flash of unstyled content?              | yes       |
| Can be used on landing page?               | yes       |
| Refactoring?                               | partially |

</script></section><section data-markdown><script type="text/template"># CSS in JS
- JS is used to generate CSS during runtime
- CSS classes can be unique
- CSS is only loaded when required

</script></section><section data-markdown><script type="text/template"># Styled components

```js
const Button = styled.a`
  display: inline-block;
  border-radius: 3px;
  padding: 0.5rem 0;
  margin: 0.5rem 1rem;

  ${props => props.primary && css`
    background: white;
    color: palevioletred;
  `}
`;

<Button>
<Button primary>
```
</script></section><section data-markdown><script type="text/template"># Styled components

```js
const Button = styled.a`
  display: inline-block;
  border-radius: 3px;
  padding: 0.5rem 0;
  margin: 0.5rem 1rem;

  ${props => props.primary && css`
    background: white;
    color: palevioletred;
  `}
`;

<Button>
<Button primary>
```
</script></section><section data-markdown><script type="text/template"># CSS-in-JS
| Question?                                  | Possible  |
|--------------------------------------------|-----------|
| No naming clashes possible?                | yes       |
| Selector minification?                     | yes       |
| Deterministic-Resolution?                  | yes       |
| Theming during runtime?                    | yes       |
| Debugging with dev-tools?                  | partially |
| Dead code elimination?                     | yes       |
| No flash of unstyled content?              | no        |
| Can be used on landing page?               | no        |
| Refactoring?                               | yes       |
</script></section></section><section ><section data-markdown><script type="text/template"># CSS Modules
- regular CSS file
- can be imported in JS
- Compiler makes classnames unique
</script></section><section data-markdown><script type="text/template"># CSS Modules

```ts
import styles from './centered-panel.css';

const Component = ({ children }) => (
  <section className={styles.wrapper}>
    <div className={styles.centered}>
      { children }
    </div>
  </section>
);
```
</script></section><section data-markdown><script type="text/template"># Angular

```ts
@Component({
  selector: 'app-root',
  template: `
    <h1>Tour of Heroes</h1>
    <app-hero-main [hero]="hero"></app-hero-main>
  `,
  styles: ['h1 { font-weight: normal; }']
})
```
</script></section><section data-markdown><script type="text/template"># CSS modules
| Question?                                  | Possible  |
|--------------------------------------------|-----------|
| No naming clashes possible?                | yes       |
| Selector minification?                     | yes       |
| Deterministic-Resolution?                  | yes       |
| Theming during runtime?                    | yes       |
| Debugging with dev-tools?                  | yes       |
| Dead code elimination?                     | partially |
| No flash of unstyled content?              | yes       |
| Can be used on landing page?               | yes       |
| Refactoring?                               | partially |

</script></section></section><section  data-markdown><script type="text/template"># Final Comparison

| Question?                     | global    | CSS-in-JS | modules   |
|-------------------------------|-----------|-----------|-----------|
| No naming clashes possible?   | no        | yes       | yes       |
| Selector minification?        | no        | yes       | yes       |
| Deterministic-Resolution?     | no        | yes       | yes       |
| Theming during runtime?       | yes       | yes       | yes       |
| Debugging with dev-tools?     | yes       | partially | yes       |
| Dead code elimination?        | no        | yes       | partially |
| No flash of unstyled content? | yes       | no        | yes       |
| Can be used on landing page?  | yes       | no        | yes       |
| Refactoring?                  | partially | yes       | partially |
</script></section><section  data-markdown><script type="text/template"># Feedback

https://de.surveymonkey.com/r/J6693VN

</script></section></div>
    </div>

    <script src="./lib/js/head.min.js"></script>
    <script src="./js/reveal.js"></script>

    <script>
      function extend() {
        var target = {};
        for (var i = 0; i < arguments.length; i++) {
          var source = arguments[i];
          for (var key in source) {
            if (source.hasOwnProperty(key)) {
              target[key] = source[key];
            }
          }
        }
        return target;
      }

      // Optional libraries used to extend on reveal.js
      var deps = [
        { src: './lib/js/classList.js', condition: function() { return !document.body.classList; } },
        { src: './plugin/markdown/marked.js', condition: function() { return !!document.querySelector('[data-markdown]'); } },
        { src: './plugin/markdown/markdown.js', condition: function() { return !!document.querySelector('[data-markdown]'); } },
        { src: './plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
        { src: './plugin/zoom-js/zoom.js', async: true },
        { src: './plugin/notes/notes.js', async: true },
        { src: './plugin/math/math.js', async: true }
      ];

      // default options to init reveal.js
      var defaultOptions = {
        controls: true,
        progress: true,
        history: true,
        center: true,
        transition: 'default', // none/fade/slide/convex/concave/zoom
        dependencies: deps
      };

      // options from URL query string
      var queryOptions = Reveal.getQueryHash() || {};

      var options = extend(defaultOptions, {}, queryOptions);
    </script>


    <script>
      Reveal.initialize(options);
    </script>
  </body>
</html>
